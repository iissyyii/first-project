import streamlit as st

st.set_page_config(page_title="과목 성향 기반 공부법 추천 🎓", page_icon="🧠")
st.title("🎯 과목 성향을 활용한 공부법 추천기")
st.markdown("자신의 강점을 약점으로 옮겨보세요! 💪\n")

# 과목 리스트
subjects = ["수학", "과학", "국어", "영어", "사회", "역사", "미술/예체능"]

# 사용자 입력
strength = st.selectbox("✅ 내가 잘하는 과목", [""] + subjects)
weakness = st.selectbox("❌ 내가 어려운 과목", [""] + subjects)

# 공부법 매핑 (강점 기반 추천 전략)
study_tips = {
    ("수학", "역사"): "🧮 수학처럼 **연표 + 구조화**해서 사건 간 관계를 흐름도로 정리해보세요!",
    ("수학", "사회"): "📊 사회 개념도 **수식처럼 인과 관계를 도식화**하면 훨씬 기억이 잘돼요!",
    ("수학", "국어"): "📐 지문을 **논리 구조(서론-본론-결론)**로 분석하는 연습이 좋아요.",
    ("수학", "영어"): "🔢 문장을 **문법 공식처럼 구조 분석**해보세요. 반복 패턴 훈련도 좋아요.",
    ("과학", "영어"): "🧬 영어 단어도 **어원과 원리로 분석**하는 방식이 효과적이에요!",
    ("과학", "사회"): "🔍 사회 개념도 **실험처럼 상황 가정 → 결과 예측** 방식으로 접근해보세요.",
    ("국어", "수학"): "📖 수학 문제를 이야기처럼 해석하고, **맥락 중심으로 접근**해보세요.",
    ("국어", "과학"): "📝 개념을 **비유와 스토리텔링**으로 외워보세요. 특히 물리/화학에 좋아요.",
    ("영어", "과학"): "🗣️ 과학 개념을 직접 **설명하거나 말로 풀어보는 학습**이 효과적이에요.",
    ("영어", "역사"): "📚 역사도 영어처럼 **이야기 흐름 + 발음하며 암기**해보세요.",
    ("사회", "과학"): "🌍 개념을 **실제 사례(뉴스/사건)와 연결**해서 기억하면 오래가요.",
    ("미술/예체능", "역사"): "🎨 인물/사건을 **색상별, 이미지로 마인드맵** 만들어 외워보세요.",
    ("미술/예체능", "영어"): "🖼️ 단어를 **그림으로 기억**, 플래시카드나 상상 이미지 활용이 좋아요.",
    ("미술/예체능", "과학"): "🌈 개념을 **도식, 다이어그램, 컬러 코드**로 정리하면 이해가 쉬워요.",
}

# 추천 출력
if strength and weakness:
    if strength == weakness:
        st.info("🙃 같은 과목은 비교가 어렵습니다. 다른 조합을 골라주세요.")
    else:
        tip = study_tips.get((strength, weakness))
        if tip:
            st.success(f"📘 공부법 추천: {tip}")
        else:
            st.warning("⚠️ 이 조합은 아직 준비 중이에요! 직접 전략을 만들어보는 것도 좋아요 😉")

        st.balloons()
elif strength or weakness:
    st.info("📝 두 과목 모두 선택해주세요!")
else:
    st.write("👈 과목을 골라보세요!")
